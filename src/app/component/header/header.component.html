<header>
    <div class="navbar navbar-dark bg-primary shadow-sm">
        <div class="navbar-brand align-item-center d-flex">
            <i style="font-size: 40px;" class="fas fa-shipping-fast">&nbsp;
            </i>
            <strong style="font-size: 30px;">Mobile Store</strong>
        </div>
        <!-- <a routerLink="/cart"><button class="byn btn-primary">
            <i style="font-size: 30px;" class="fas fa-cart-plus"></i>
        </button></a> -->
        <div class="header-container__right">
          <ng-container>
            <div class="cart-counter">{{ cartData.products.length }}</div>
            <button
              nz-button
              nz-dropdown
              nzType="text"
              nzTrigger="click"
              nzPlacement="right"
              nzShape="circle"
              nzSize="large"
              [nzDropdownMenu]="menu"
              [nzVisible]="dropdownVisible"
              (nzVisibleChange)="toggleDropdown()"
            >
              <i
                nz-icon
                nzType="shopping-cart"
                [ngStyle]="{ fontSize: '24px', paddingTop: '3px' }"
              ></i>
            </button>
            <nz-dropdown-menu #menu="nzDropdownMenu">
              <div class="cart-dropdown">
                <div
                  class="cart-dropdown__empty"
                  *ngIf="cartData.products.length === 0"
                >
                  Your cart is empty.
                </div>
                <div
                  class="cart-dropdown__content"
                  *ngIf="cartData.products.length !== 0"
                >
                  <div class="product-list">
                    <div
                      class="product-list__item"
                      *ngFor="let product of cartData.products; index as i"
                      [ngStyle]="{
                        'border-bottom':
                          i !== cartData.products.length - 1 && '1px solid #ccc'
                      }"
                    >
                      <div class="product-item">
                        <div
                          class="product-item__remove"
                          (click)="removeProductFromCart(product.id)"
                        >
                          X
                        </div>
                        <div class="product-item__image">
                          <img [src]="product.image" alt="" />
                        </div>
                        <div class="product-item__description">
                          <div class="product-name">{{ product.title }}</div>
                          <div class="product-amount">
                            {{ product.quantity }} x
                            <span>{{ product.price | currency: "USD" }}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="cart-info">
                    <div class="selected-amount">
                      {{ cartData.products.length }} Item(s) selected
                    </div>
                    <div class="total-price">
                      Total: {{ cartData.total | currency: "USD" }}
                    </div>
                  </div>
                  <div class="cart-cta">
                    <button
                      nz-button
                      nzSize="large"
                      routerLink="/cart"
                      (click)="toggleDropdown()"
                      [ngStyle]="{
                        borderLeft: 'none',
                        borderRight: 'none',
                        borderBottom: 'none'
                      }"
                    >
                      View cart
                    </button>
                    <button
                      nz-button
                      nzType="primary"
                      nzSize="large"
                      routerLink="/checkout"
                      (click)="toggleDropdown()"
                      [ngStyle]="{
                        borderLeft: 'none',
                        borderRight: 'none',
                        borderBottom: 'none'
                      }"
                    >
                      Checkout
                    </button>
                  </div>
                </div>
              </div>
            </nz-dropdown-menu>
          </ng-container>
        </div>
    </div>
</header>
